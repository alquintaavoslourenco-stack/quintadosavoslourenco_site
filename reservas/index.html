<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Reservas · Quinta dos Avós Lourenço</title>
  <meta name="description" content="Faça o seu pedido de reserva na Quinta dos Avós Lourenço, alojamento rural na Sertã.">

  <!-- ✅ Segurança (igual ao 'Sobre', com exceção para permitir o Formspree) -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self';
    style-src  'self' 'unsafe-inline';
    img-src    'self' data:;
    font-src   'self' data:;
    connect-src 'self' https://formspree.io;
    base-uri   'self';
    form-action 'self' https://formspree.io;
    upgrade-insecure-requests;
  ">
  <meta name="referrer" content="strict-origin-when-cross-origin">

  <!-- ✅ CSS igual -->
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <!-- Cabeçalho (igual ao teu) -->
  <header class="topbar">
    <div class="brand">
      <a href="/">
        <img src="/images/logo.png" alt="Quinta dos Avós Lourenço" class="logo">
      </a>
    </div>
    <button class="menu-toggle" aria-expanded="false" aria-label="Abrir menu">☰</button>
    <nav class="menu" aria-label="Navegação principal">
      <a href="/">Início</a>
      <a href="/sobre/">Sobre</a>
      <a href="/galeria/">Galeria</a>
      <a href="/contactos/">Contactos</a>
      <a href="/reservas/" class="active">Reservas</a>
    </nav>
  </header>

  <!-- Conteúdo -->
  <main class="section">
    <div class="container" style="max-width:800px;">
      <h1 style="text-align:center">Pedido de Reserva</h1>
      <p style="text-align:center">Preencha o formulário para verificarmos disponibilidade. Respondemos por email ou telefone.</p>

      <!-- Formulário -->
      <form id="bookingForm" action="https://formspree.io/f/SEU_ID" method="POST" novalidate>
        <!-- Honeypot anti-spam -->
        <input type="text" name="website" class="hp" aria-hidden="true" tabindex="-1" autocomplete="off" style="position:absolute;left:-10000px;opacity:0">

        <p><label for="nome"><strong>Nome completo *</strong></label><br>
        <input id="nome" name="nome" type="text" required autocomplete="name"></p>

        <p><label for="email"><strong>Email *</strong></label><br>
        <input id="email" name="email" type="email" required autocomplete="email"></p>

        <p><label for="telefone"><strong>Telefone *</strong></label><br>
        <input id="telefone" name="telefone" type="tel" required inputmode="tel"
               pattern="^[0-9+()\-\s]{6,}$" placeholder="+351 ..."></p>

        <p><label for="alojamento"><strong>Tipo de alojamento *</strong></label><br>
        <select id="alojamento" name="alojamento" required>
          <option value="">— Selecionar —</option>
          <option>Casa completa</option>
          <option>Quarto duplo</option>
          <option>Quarto familiar</option>
          <option>Outro</option>
        </select></p>

        <p><label for="checkin"><strong>Check-in *</strong></label><br>
        <input id="checkin" name="checkin" type="date" required></p>

        <p><label for="checkout"><strong>Check-out *</strong></label><br>
        <input id="checkout" name="checkout" type="date" required></p>

        <p><label for="adultos"><strong>Adultos *</strong></label><br>
        <input id="adultos" name="adultos" type="number" min="1" max="20" value="2" required></p>

        <p><label for="criancas"><strong>Crianças</strong></label><br>
        <input id="criancas" name="criancas" type="number" min="0" max="20" value="0"></p>

        <p><label for="mensagem"><strong>Mensagem / pedidos especiais</strong></label><br>
        <textarea id="mensagem" name="mensagem" rows="5" placeholder="Ex.: berço, check-in tardio, alergias…"></textarea></p>

        <p>
          <label>
            <input id="consent" name="consent" type="checkbox" required>
            Aceito o tratamento dos meus dados para efeitos de gestão de reserva, de acordo com a
            <a href="/politica-privacidade/">Política de Privacidade</a>. *
          </label>
        </p>

        <p><button type="submit" class="btn">Pedir disponibilidade</button></p>

        <p id="status-ok" class="form-status" style="display:none; color:#065f46">Pedido enviado com sucesso. Obrigado!</p>
        <p id="status-err" class="form-status" style="display:none; color:#991b1b">Não foi possível enviar. Tente novamente.</p>

        <!-- Metadados úteis -->
        <input type="hidden" name="_subject" value="Novo pedido de reserva — Site">
        <input type="hidden" name="_page" value="/reservas">
      </form>

      <hr>

      <h2 style="text-align:center">Outras formas de reservar</h2>
      <p style="text-align:center">
        <a href="https://www.airbnb.pt/rooms/SEU_ID" target="_blank" rel="noopener">Airbnb</a> ·
        <a href="https://www.booking.com/hotel/pt/SEU_ID.pt-pt.html" target="_blank" rel="noopener">Booking</a> ·
        <a href="https://wa.me/351960446713?text=Ol%C3%A1!%20Gostaria%20de%20saber%20disponibilidade."
           target="_blank" rel="noopener">WhatsApp</a>
      </p>
    </div>
  </main>

  <!-- Rodapé (igual) -->
  <footer class="footer">
    <p>
      © 2023–2025 Quinta dos Avós Lourenço · 135447/AL ·
      <a href="/politica-privacidade/">Política de Privacidade</a> ·
      <a href="https://www.livroreclamacoes.pt/Inicio/" target="_blank" rel="noopener noreferrer">
        Livro de Reclamações
      </a>
    </p>
  </footer>

  <!-- WhatsApp flutuante (igual) -->
  <a href="https://wa.me/351960446713?text=Ol%C3%A1!%20Gostaria%20de%20saber%20mais%20sobre%20a%20Quinta%20dos%20Av%C3%B3s%20Louren%C3%A7o."
     class="whatsapp-float" target="_blank" rel="noopener noreferrer"
     aria-label="Enviar mensagem no WhatsApp" title="Enviar mensagem no WhatsApp">
    <img src="/images/whatsapp-icon.svg" alt="WhatsApp">
  </a>

  <!-- Banner de cookies (igual) -->
  <div id="cookie-consent" class="cookie-banner" role="dialog" aria-live="polite" hidden>
    <div class="cookie-inner">
      <p class="cookie-text">
        Usamos cookies apenas para garantir o bom funcionamento do site.
        <a href="/politica-privacidade/">Saiba mais</a>
      </p>
      <button id="cookie-accept" type="button" class="btn-accept">Aceitar</button>
    </div>
  </div>

  <!-- Scripts (iguais) -->
  <script defer src="/js/cookies.js"></script>
  <script defer src="/js/app.js"></script>

  <!-- Script da página (externo por causa da tua CSP) -->
  <script defer src="/js/reservas.js"></script>
</body>
</html>
